
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>programming - Page 1 - code.seanosaur</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="../../assets/css/main.css?v=c7b356b74f" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet">
    <link rel="icon" href="../../assets/img/icon.png?v=c7b356b74f">
    <link href="../../assets/css/prettify.css?v=c7b356b74f" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="../../assets/js/hover.zoom.js?v=c7b356b74f"></script>
    <script src="../../assets/js/hover.zoom.conf.js?v=c7b356b74f"></script>
    <link rel="canonical" href="http://localhost:2368/tag/programming/">
    <link rel="next" href="http://localhost:2368/tag/programming/page/2/">
    
    <meta property="og:site_name" content="code.seanosaur">
    <meta property="og:type" content="website">
    <meta property="og:title" content="programming - Page 1 - code.seanosaur">
    <meta property="og:url" content="http://localhost:2368/tag/programming/">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="programming - Page 1 - code.seanosaur">
    <meta name="twitter:url" content="http://localhost:2368/tag/programming/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Series",
    "publisher": "code.seanosaur",
    "url": "http://localhost:2368/tag/programming/",
    "name": "programming"
}
    </script>

    <meta name="generator" content="Ghost 0.6">
    <link rel="alternate" type="application/rss+xml" title="code.seanosaur" href="http://localhost:2368/rss/">
    <script type="text/javascript">
      (function() {
        window.PA_SITE_ID = 4399971067549;
        var u='//api.pleasant.io/';
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'pleasant.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
  </head>
  <body>
    <div class="navbar navbar-inverse navbar-static-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://seanosaur.com" title="seanosaur.com">seanosaur</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="http://blog.seanosaur.com" title="blog.seanosaur"><i class="fa fa-pencil"></i> Blog</a></li>
        <li><a href="http://code.seanosaur.com" title="code.seanosaur"><i class="fa fa-code"></i> Code</a></li>
        <li class="dropdown">
          <a href="index.html#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" title="Projects"><i class="fa fa-folder-open-o"></i> Projects <i class="fa fa-angle-double-down"></i></a>
          <ul class="dropdown-menu">
            <li><a href="http://read.seanosaur.com" title="Reading List"><i class="fa fa-book"></i> Reading List</a></li>
            <li><a href="http://minecraft.seanosaur.com" title="Minecraft Map"><i class="ion ion-map"></i> Minecraft Map</a></li>
            <li><a href="http://www.mraverage.today" title="Mr. Average"><i class="ion-ios-baseball"></i> Mr. Average</a></li>
            <li><a href="http://birthdays.seanosaur.com" title="Birthdays"><i class="fa fa-birthday-cake"></i> Birthdays</a></li>
          </ul>
        </li>
        <li><a href="http://twitter.com/seanoldham" title="Twitter"><i class="fa fa-twitter fa-lg"></i></a></li>
        <li><a href="http://github.com/seanosaur" title="GitHub"><i class="fa fa-github-alt fa-lg"></i></a></li>
        <li><a href="http://twitch.tv/seanosaur" title="Twitch"><i class="fa fa-twitch fa-lg"></i></a></li>
      </ul>
    </div>
  </div>
</div>
    <div id="ww">
	    <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 centered">
            
<header>
  <!-- *Update with your image here. Keep dimensions around 200x200px for optimal performance. You don't have to worry about cropping it into a circle, I've taken care of that for you.* -->
  <img id="avatar" src="../../assets/img/avatar.svg?v=c7b356b74f">
</header>
<main>
  <article>
    <header>
      <h1><a href="../../2015/06/30/using-rubys-succ-method-to-increment-strings-and-integers/">Using Ruby's .succ Method to Increment Strings and Integers</a></h1>
      <h5><time datetime="2015-06-30">Tuesday, June 30, 2015</time></h5>
    </header>
<!--
    <section class="posts">
      <p>I have a project that requires me to revise a record and keep track of that revision. Without even thinking, I was going to set the initial revision level to 0 then increment by one each time the record was updated. Well, that won't work because these revision levels need&hellip;</p>
      <h5><a href="/2015/06/30/using-rubys-succ-method-to-increment-strings-and-integers/">Read more <i class="fa fa-caret-right"></i></a></h5>
    </section>
-->
    <section class="posts">
      <p>I have a project that requires me to revise a record and keep track of that revision. Without even thinking, I was going to set the initial revision level to <code>0</code> then increment by one each time the record was updated. Well, that won't work because these revision levels need to be tracked with alpha characters (A=1, B=2, ...).</p>

<p>My next idea was to create a helper that would translate numbers to letters. I was sure there was something out there that could do that, maybe even within Ruby. So I started searching. That's when I came across <code>.succ</code>. What a great little tool! <code>.succ</code> will take your string (or integer) and give you the "next in line" value. For instance:</p>

<pre><code class="language-prettyprint language-ruby">&gt; "1".succ
=&gt; "2"
&gt; 1.succ
=&gt; 2
&gt; "a".succ
=&gt; "b"
&gt; "Z".succ
=&gt; "AA"
&gt; "ruby".succ
=&gt; "rubz"
&gt; "rubz".succ
=&gt; "ruca"
</code></pre>

<p>Watch out for floats, they don't play nice.</p>

<p>This method is <em>exactly</em> what I needed for my revision tracking and now you know about it. Now get out there and use it!</p>
    </section>
  </article>
  <article>
    <header>
      <h1><a href="../../2015/04/25/learn-web-dev-a-slack-community/">slashrocket - A Slack Community</a></h1>
      <h5><time datetime="2015-04-25">Saturday, April 25, 2015</time></h5>
    </header>
<!--
    <section class="posts">
      <p>I've mentioned before that I was in a Slack community based on learning Rails. Well, it's evolved. While we do have a lot of users learning Rails, we feel it's time to expand a bit. Limiting ourselves to one language or framework isn't what development is about. We need to&hellip;</p>
      <h5><a href="/2015/04/25/learn-web-dev-a-slack-community/">Read more <i class="fa fa-caret-right"></i></a></h5>
    </section>
-->
    <section class="posts">
      <p>I've mentioned before that I was in a Slack community based on learning Rails. Well, it's evolved. While we do have a lot of users learning Rails, we feel it's time to expand a bit. Limiting ourselves to one language or framework isn't what development is about. We need to broaden our horizons and seek out new knowledge of the unknown. That last part might have sounded a little too "Carl Sagan" but it's true. If we get people in there that only want to learn Rails, how will they know when another framework or process is easier and more applicable?</p>

<p><del>Learn Rails</del> <del>Learn Web Dev</del> slashrocket will focus on all things web development. We'll still be talking Rails...along with everything else.</p>

<p>See you there!</p>

<script async="" defer src="http://slashrocket-slackin.herokuapp.com/slackin.js?large"></script>
    </section>
  </article>
  <article>
    <header>
      <h1><a href="../../2015/03/17/the-downto-method-in-ruby/">The '.downto' Method in Ruby</a></h1>
      <h5><time datetime="2015-03-17">Tuesday, March 17, 2015</time></h5>
    </header>
<!--
    <section class="posts">
      <p>Yesterday I came across TestFirst.org and became determined to learn about RSpec and how to test properly. Along my journey through their exercises, there was one that required the calculation of a factorial. I can do those all day with a pen and paper, but it's a different task&hellip;</p>
      <h5><a href="/2015/03/17/the-downto-method-in-ruby/">Read more <i class="fa fa-caret-right"></i></a></h5>
    </section>
-->
    <section class="posts">
      <p>Yesterday I came across <a href="http://testfirst.org/learn_ruby">TestFirst.org</a> and became determined to learn about RSpec and how to test properly. Along my journey through their exercises, there was one that required the calculation of a factorial. I can do those all day with a pen and paper, but it's a different task to write a method that takes any number as an argument and does the math for me. For those that don't know, a factorial looks like this <code>5!</code> and can be calculated like this <code>5 * 4 * 3 * 2 * 1</code>.</p>

<p>This is where <code>.downto</code> comes into play. Instead of having to figure out what number the method took and then multiplying down, you can just do something like this:</p>

<pre><code class="language-prettyprint language-ruby">def factorial(num)  
  if num &gt; 0
    num.downto(1).inject(:*)
  else
    1
  end
end  
</code></pre>

<p>The part you have to watch out for is if <code>num</code> is ever 0. The factorial of 0 is 1 and so it can be tricky to write that out in code. Don't ask me why 0! = 1 and if you don't believe me, <a href="http://www.zero-factorial.com/whatis.html">read about it here</a>.</p>

<p><code>.downto</code> can also be used for countdowns!</p>

<pre><code class="language-prettyprint language-ruby">10.downto(1) { |n| print "#{n}..." }  
</code></pre>

<p>will return  </p>

<pre><code class="language-prettyprint language-ruby">10...9...8...7...6...5...4...3...2...1...  
</code></pre>

<p>Who knew <code>.downto</code> was so useful and could also be fun? Time to write a <a href="https://kerbalspaceprogram.com">Kerbal Space Program</a> script for my launches!</p>
    </section>
  </article>
  <article>
    <header>
      <h1><a href="../../2015/01/16/my-first-ruby-script/">My First Ruby Script</a></h1>
      <h5><time datetime="2015-01-16">Friday, January 16, 2015</time></h5>
    </header>
<!--
    <section class="posts">
      <p>Today, I wrote my first Ruby script. I'll lead off by saying it's not technically my first script, but it's the first one I've pieced together without a walkthrough, tutorial, or book. I'm in a Rails study group on Slack (if you want in, leave me a comment below) and&hellip;</p>
      <h5><a href="/2015/01/16/my-first-ruby-script/">Read more <i class="fa fa-caret-right"></i></a></h5>
    </section>
-->
    <section class="posts">
      <p>Today, I wrote my first Ruby script.</p>

<p>I'll lead off by saying it's not technically my first script, but it's the first one I've pieced together without a walkthrough, tutorial, or book.</p>

<p>I'm in a Rails study group on Slack (if you want in, leave me a comment below) and we're preparing to build our first app. In preparation, I was looking for a Reddit gem or API translation for Ruby. That's when I found <a href="http://redditkit.com">RedditKit</a>. It looked fantastic and I had to try it out for myself. I followed a few of the examples to get a feel for it and then went off on my own.</p>

<p>I wanted a user to type in their <code>username</code> and <code>password</code> and it would spit out a list of the subreddits they subscribe to and the number of followers for each. Setting up the login was simple, but I had my information hardcoded in so that had to change if I planned to share this with my study group.</p>

<p>Next up was the subreddits. I was able to iterate through the list of subreddits, but I still couldn't figure out how to sort them. I was getting frustrated. Ruby was breaking my spirit right before my eyes. I created a blank hash, <code>sub</code>, then chose the subreddit's url as the key and the number of subscribers as the value. Then, I sorted the value and printed. Done!</p>

<p>This whole process took something close to two hours. It's far from perfect and could probably use a visit from <a href="http://batsov.com/rubocop/">RuboCop</a>, but it's the first script I've written by myself and I'm proud of it.</p>

<p>View the script below.</p>

<pre><code class="language-prettyprint language-ruby">require 'redditkit'

def reddit(u, p)  
  user = RedditKit::Client.new u, p
  subreddits = user.subscribed_subreddits
  sub = {}
  subreddits.each do |s|
    sub[:"#{s.url}"] = s.subscribers
  end
  puts sub.sort_by { |k,v| k }
end

puts 'Username: '  
u = gets.chomp  
puts 'Password: '  
p = gets.chomp  
reddit(u,p)  
</code></pre>
    </section>
  </article>
  <article>
    <header>
      <h1><a href="../../2014/08/03/rails-issue-1/">Rails Issue #1</a></h1>
      <h5><time datetime="2014-08-03">Sunday, August 03, 2014</time></h5>
    </header>
<!--
    <section class="posts">
      <p>As you know, I've been working with Rails for a month or 2 now. It's been taxing but Google, RailsCasts, StackOverflow, and many other resources have guided me along without just throwing the answer my way. I like to learn by doing, not just copy/pasting. Even with all this&hellip;</p>
      <h5><a href="/2014/08/03/rails-issue-1/">Read more <i class="fa fa-caret-right"></i></a></h5>
    </section>
-->
    <section class="posts">
      <p>As you know, I've been working with Rails for a month or 2 now. It's been taxing but Google, RailsCasts, StackOverflow, and many other resources have guided me along without just throwing the answer my way. I like to learn by doing, not just copy/pasting. Even with all this support, I still have a few things that need working out before the app is complete. I'd like to focus on one of those today.</p>

<p>I intend to use <a href="https://stripe.com">Stripe</a> for payments. We have 3 payment options but for some reason Stripe keeps charging the same amount, no matter which button is clicked. Let me show you the code. Below you'll see the create module of my ChargesController.</p>

<pre><code class="language-prettyprint language-ruby">def create  
  # Amount in cents
  @amount = 999
  @dollar_amount = (@amount / 100.0)

  customer = Stripe::Customer.create(
    :email     =&gt; current_user.email,
    :card     =&gt; params[:stripeToken]
  )

  charge = Stripe::Charge.create(
    :customer         =&gt; customer.id,
    :amount             =&gt; @amount,
    :description     =&gt; 'Rails Stripe customer',
    :currency            =&gt; 'usd'
  )

rescue Stripe::CardError =&gt; e  
  flash[:error] = e.message
  redirect_to charges_path
end  
</code></pre>

<p>Next up, let's take a look at the 3 different payment buttons in the view.</p>

<pre><code class="language-prettyprint language-html">&lt;script src="https://checkout.stripe.com/checkout.js" class="stripe-button"  
    data-key="&lt;%=Rails.configuration.stripe[:publishable_key] %&gt;"
    data-name="Forms to Your Door"
    data-description="Budget-Friendly - $9.99"
    data-amount="999"
    data-panel-label="Pay {{amount}}"&gt;
&lt;/script&gt;  
</code></pre>

<pre><code class="language-prettyprint language-html">&lt;script src="https://checkout.stripe.com/checkout.js" class="stripe-button"  
    data-key="&lt;%= Rails.configuration.stripe[:publishable_key] %&gt;"
    data-name="Forms to Your Door"
    data-description="Test Taker - $14.99"
    data-amount="1499"
    data-panel-label="Pay {{amount}}"&gt;
&lt;/script&gt;  
</code></pre>

<pre><code class="language-prettyprint language-hmtl">&lt;script src="https://checkout.stripe.com/checkout.js" class="stripe-button"  
    data-key="&lt;%= Rails.configuration.stripe[:publishable_key] %&gt;"
    data-name="Forms to Your Door"
    data-description="Dean's List - $19.99"
    data-amount="1999"
    data-panel-label="Pay {{amount}}"&gt;
&lt;/script&gt;  
</code></pre>

<p>As you can see, I have 3 nearly identical payment buttons, but am trying to charge a different amount for each. The problem I'm having is that every time the button is clicked, the controller takes over and uses the <code>@amount = 999</code> variable from the create module. How can I make this work for all 3 items?</p>

<h3 id="update">UPDATE</h3>

<h5 id="120214">(12/02/14)</h5>

<p>This issue has gone unresolved at this point, and we have narrowed the payment options to one. This will allow us to get the user signup process started and receive feedback from our customers regarding price points.</p>
    </section>
  </article>
  <nav class="pagination" role="navigation">
    <span class="page-number">Page 1 of 2</span>
        <a class="older-posts" href="page/2/">Older Posts →</a>
</nav>
</main>

          </div>
        </div>
	    </div>
  	</div>
    <div id="foot">
      <footer>
  <a href="http://localhost:2368/rss/"><i class="fa fa-rss"></i></a>
  <div class="inner">
    <section class="copyright">All content copyright <a href="http://localhost:2368/">code.seanosaur</a> © 2015 • All rights reserved.</section>
    <section><a href="http://github.com/seanosaur/sydney">Sydney</a> theme created by <a href="http://github.com/seanosaur">seanosaur</a></section>
    <section class="poweredby">Proudly published with <a class="icon-ghost" href="https://ghost.org">Ghost</a></section>
  </div>
</footer>
    </div>
    <script src="../../public/jquery.js?v=c7b356b74f"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script src="../../assets/js/bootstrap.min.js?v=c7b356b74f"></script>
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'seanosaur-code'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
  </body>
